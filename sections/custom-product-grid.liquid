{% comment %}
  Custom 6-product grid with + hotspot → Quick View modal
  - Six products configurable via section blocks
  - Add to cart via AJAX (gift-guide.js)
  - If selected options include Black + Medium, auto-add addon product (selected here)
{% endcomment %}

{{ 'gift-guide-product-grid.css' | asset_url | stylesheet_tag }}
<script src="{{ 'gift-guide.js' | asset_url }}" defer="defer"></script>

{% assign jacket = all_products["soft-winter-jacket"] %}
{% assign jacket_variant_id = jacket.selected_or_first_available_variant.id %}

<div class="product-grid-container">
  <div class="product-grid-heading">{{ section.settings.heading-text }}</div>
  <div class="grid-container">
    {% for products in collections.gift-guide.products %}
       {% for media in products.media %}
        <div class="image-container">
        <img class="product-image"  src="{{ media.src | img_url: '600x600' }}" alt="{{ products.title }}" width="100%" height="100%">
         <div class="plus-icon"
          data-title="{{ products.title }}"
          data-image="{{ media.src | img_url: '600x600' }}"
          data-description="{{ products.description | strip_html | truncate: 150 }}"
          data-variants='{{ products.variants | map: "option2" | uniq | json }}'
          data-sizes='{{ products.variants | map: "option1" | uniq | json }}'>
          +
        </div>
        </div>
        {% endfor %}
      {% endfor %}
    
  </div>
</div>

{% comment %}
  modal for adding to cart
{% endcomment %}

<!-- Modal -->
<div id="productModal" class="modal">
  <div class="modal-content">
    <div class="close">&times;</div>
    <div class="modal-header">
      <img id="modalImage" src="" alt="" width="120px" height="auto">
      <div class="modal-details">
        <div id="modalTitle"></div>
        <div class="price">980,000€</div>
        <div id="modalDescription"></div>
      </div>
    </div>
    <p class="color-text">Color</p>
    <div class="color-box-selector">
    </div>
     <p class="color-text">Size</p>
<select id="sizeSelect" class="size-dropdown">
  <option value="" disabled selected>Choose your size</option>
</select>
<button class="gg-btn-cart" >
        ADD TO CART  →
      </button>
  </div>
</div>


{% schema %}
{
  "name": "Gift Guide Grid",
  "settings": [
    { "type": "text", "id": "heading-text", "label": "Heading for the grid", "default": "Tisso vision in the wild" },
  ],
  "blocks": [],
  "presets": [{ "name": "Gift Guide Banner (Custom)" }]
}
{% endschema %}